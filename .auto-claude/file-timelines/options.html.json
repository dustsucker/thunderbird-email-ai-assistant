{
  "file_path": "options.html",
  "main_branch_history": [],
  "task_views": {
    "001-fix-provider-setup-with-dynamic-settings": {
      "task_id": "001-fix-provider-setup-with-dynamic-settings",
      "branch_point": {
        "commit_hash": "d2cdf71ba7ec64ddd1b6cc75a9afeb67bee49e7d",
        "content": "<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Email Assistant</title>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"options.css\" />\n  </head>\n  <body>\n    <div class=\"container\">\n      <h1>Mail Assistant Settings</h1>\n\n      <div class=\"tab-bar\">\n        <button class=\"tab-button active\" data-tab=\"general-settings\">General</button>\n        <button class=\"tab-button\" data-tab=\"custom-tags\">Custom Tags</button>\n      </div>\n\n      <!-- General Settings Tab -->\n      <div id=\"general-settings\" class=\"tab-content active\">\n        <form id=\"general-options-form\">\n          <div class=\"form-group\">\n            <label for=\"provider\">LLM Provider:</label>\n            <select id=\"provider\" name=\"provider\">\n              <option value=\"ollama\">Ollama</option>\n              <option value=\"mistral\">Mistral</option>\n              <option value=\"gemini\">Google Gemini</option>\n              <option value=\"deepseek\">DeepSeek</option>\n              <option value=\"openai\">OpenAI</option>\n              <option value=\"claude\">Anthropic Claude</option>\n              <option value=\"zai-paas\">Zai PaaS</option>\n              <option value=\"zai-coding\">Zai Coding</option>\n            </select>\n          </div>\n          <div id=\"ollama-settings\" class=\"provider-settings\">\n            <div class=\"form-group\">\n              <label for=\"ollama-api-url\">Ollama API URL:</label>\n              <input type=\"url\" id=\"ollama-api-url\" name=\"ollama-api-url\" />\n            </div>\n            <div class=\"form-group\">\n              <label for=\"ollama-model\">Ollama Model Name:</label>\n              <input type=\"text\" id=\"ollama-model\" name=\"ollama-model\" />\n              <p class=\"help-text\">\n                To add a new model, run <code>ollama pull &lt;model_name&gt;</code>.\n              </p>\n            </div>\n            <hr />\n            <div class=\"help-section\">\n              <h2>Ollama Setup</h2>\n              <p>\n                Ollama is a powerful tool that allows you to run open-source large language models\n                locally. You must first download and install the\n                <a href=\"https://ollama.com/\" target=\"_blank\">Ollama software</a> and host your own\n                instance.\n              </p>\n              <p>\n                <b>Privacy Benefit:</b> By using Ollama, all email analysis is performed on your own\n                computer. No data from your emails is ever sent to a third-party cloud service,\n                ensuring maximum privacy.\n              </p>\n              <p>\n                For the extension to connect, you must also configure Ollama to accept requests from\n                Thunderbird. Start your server with the <code>OLLAMA_ORIGINS</code> environment\n                variable set appropriately:\n              </p>\n              <pre><code>OLLAMA_ORIGINS='*' ollama serve</code></pre>\n            </div>\n          </div>\n\n          <!-- Mistral Settings -->\n          <div id=\"mistral-settings\" class=\"provider-settings\" style=\"display: none\">\n            <div class=\"form-group\">\n              <label for=\"mistral-api-key\">Mistral API Key:</label>\n              <input type=\"password\" id=\"mistral-api-key\" name=\"mistral-api-key\" />\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using Mistral, the content of your emails will be sent to\n                and processed by a third-party service (<a\n                  href=\"https://mistral.ai/\"\n                  target=\"_blank\"\n                  >Mistral AI</a\n                >). This includes potentially sensitive data\n              </p>\n              <p>\n                <b>GDPR Compliance:</b> Mistral is a company based in the EU, which may make it a\n                suitable choice for users concerned with GDPR compliance.\n              </p>\n            </div>\n          </div>\n\n          <!-- OpenAI Settings -->\n          <div id=\"openai-settings\" class=\"provider-settings\" style=\"display: none\">\n            <div class=\"form-group\">\n              <label for=\"openai-api-key\">OpenAI API Key:</label>\n              <input type=\"password\" id=\"openai-api-key\" name=\"openai-api-key\" />\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using OpenAI, the content of your emails will be sent to\n                and processed by a third-party service (<a href=\"https://openai.com\" target=\"_blank\"\n                  >OpenAI</a\n                >). This includes potentially sensitive data.\n              </p>\n            </div>\n          </div>\n\n          <!-- Gemini Settings -->\n          <div id=\"gemini-settings\" class=\"provider-settings\" style=\"display: none\">\n            <div class=\"form-group\">\n              <label for=\"gemini-api-key\">Google Gemini API Key:</label>\n              <input type=\"password\" id=\"gemini-api-key\" name=\"gemini-api-key\" />\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using Google Gemini, the content of your emails will be\n                sent to and processed by a third-party service (<a\n                  href=\"https://deepmind.google/technologies/gemini/\"\n                  target=\"_blank\"\n                  >Google</a\n                >). This includes potentially sensitive data.\n              </p>\n            </div>\n          </div>\n\n          <!-- Claude Settings -->\n          <div id=\"claude-settings\" class=\"provider-settings\" style=\"display: none\">\n            <div class=\"form-group\">\n              <label for=\"claude-api-key\">Anthropic Claude API Key:</label>\n              <input type=\"password\" id=\"claude-api-key\" name=\"claude-api-key\" />\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using Anthropic Claude, the content of your emails will be\n                sent to and processed by a third-party service (<a\n                  href=\"https://www.anthropic.com/\"\n                  target=\"_blank\"\n                  >Anthropic</a\n                >). This includes potentially sensitive data.\n              </p>\n            </div>\n          </div>\n\n          <!-- DeepSeek Settings -->\n          <div id=\"deepseek-settings\" class=\"provider-settings\" style=\"display: none\">\n            <div class=\"form-group\">\n              <label for=\"deepseek-api-key\">DeepSeek API Key:</label>\n              <input type=\"password\" id=\"deepseek-api-key\" name=\"deepseek-api-key\" />\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using DeepSeek, the content of your emails will be sent to\n                and processed by a third-party service (<a\n                  href=\"https://www.deepseek.com/\"\n                  target=\"_blank\"\n                  >DeepSeek</a\n                >). This includes potentially sensitive data.\n              </p>\n            </div>\n          </div>\n\n        <!-- Zai PaaS Settings -->\n        <div id=\"zai-paas-settings\" class=\"provider-settings\" style=\"display: none;\">\n          <h3>Zai PaaS Settings</h3>\n          <div class=\"form-group\">\n            <label for=\"zaiPaasApiKey\">API Key:</label>\n            <input type=\"password\" id=\"zaiPaasApiKey\" name=\"zaiPaasApiKey\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"zaiPaasModel\">Model:</label>\n            <select id=\"zaiPaasModel\" name=\"zaiPaasModel\"></select>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"zaiPaasBaseUrl\">Base URL (optional):</label>\n            <input type=\"text\" id=\"zaiPaasBaseUrl\" name=\"zaiPaasBaseUrl\">\n          </div>\n          <div class=\"help-section\">\n            <p><b>Privacy Notice:</b> By using Zai PaaS, the content of your emails will be sent to and processed by a third-party service (<a href=\"https://z.ai/\" target=\"_blank\">Zai</a>). This includes potentially sensitive data.</p>\n          </div>\n        </div>\n\n        <!-- Zai Coding Settings -->\n        <div id=\"zai-coding-settings\" class=\"provider-settings\" style=\"display: none;\">\n          <h3>Zai Coding Settings</h3>\n          <div class=\"form-group\">\n            <label for=\"zaiCodingApiKey\">API Key:</label>\n            <input type=\"password\" id=\"zaiCodingApiKey\" name=\"zaiCodingApiKey\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"zaiCodingModel\">Model:</label>\n            <select id=\"zaiCodingModel\" name=\"zaiCodingModel\"></select>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"zaiCodingBaseUrl\">Base URL (optional):</label>\n            <input type=\"text\" id=\"zaiCodingBaseUrl\" name=\"zaiCodingBaseUrl\">\n          </div>\n          <div class=\"help-section\">\n            <p><b>Privacy Notice:</b> By using Zai Coding, the content of your emails will be sent to and processed by a third-party service (<a href=\"https://z.ai/\" target=\"_blank\">Zai</a>). This includes potentially sensitive data.</p>\n          </div>\n        </div>\n            <div class=\"form-group\">\n              <label for=\"zai-model\">Model:</label>\n              <select id=\"zai-model\" name=\"zai-model\">\n                <!-- Wird dynamisch bef\u00fcllt -->\n              </select>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"zai-variant\">Variant:</label>\n              <select id=\"zai-variant\" name=\"zai-variant\">\n                <option value=\"paas\">PaaS (Pay-per-use)</option>\n                <option value=\"coding\">Coding Plan (Subscription)</option>\n              </select>\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using z.ai, the content of your emails will be sent to and\n                processed by a third-party service (<a href=\"https://z.ai/\" target=\"_blank\">z.ai</a\n                >). This includes potentially sensitive data.\n              </p>\n            </div>\n          </div>\n\n          <div class=\"form-group\">\n            <button type=\"submit\">Save General Settings</button>\n            <span id=\"general-status-message\"></span>\n          </div>\n        </form>\n\n        <hr />\n\n        <div class=\"batch-analysis-container\">\n          <h2>Batch Email Analysis</h2>\n          <div class=\"form-group\">\n            <button type=\"button\" id=\"analyze-all-btn\" aria-label=\"Analyze all emails\">\n              Analysiere alle E-Mails\n            </button>\n            <button\n              type=\"button\"\n              id=\"cancel-analysis-btn\"\n              style=\"display: none\"\n              aria-label=\"Cancel analysis\"\n            >\n              Abbrechen\n            </button>\n            <button\n              type=\"button\"\n              id=\"kill-queue-btn\"\n              style=\"background-color: #dc3545; border-color: #dc3545; color: white\"\n              aria-label=\"Clear queue\"\n            >\n              Queue leeren\n            </button>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"analyze-progress\">Fortschritt:</label>\n            <progress id=\"analyze-progress\" value=\"0\" max=\"100\" style=\"display: none\"></progress>\n            <span id=\"analyze-progress-text\"></span>\n          </div>\n          <div class=\"form-group\">\n            <span id=\"analyze-status-message\" class=\"help-text\" aria-live=\"polite\"></span>\n          </div>\n        </div>\n\n        <hr />\n\n        <div class=\"cache-management-container\">\n          <h2>Cache Management</h2>\n          <p class=\"help-text\">\n            LLM-Antworten werden f\u00fcr 24 Stunden zwischengespeichert, um Token-Verbrauch zu\n            reduzieren.\n          </p>\n          <div class=\"form-group\">\n            <button\n              type=\"button\"\n              id=\"clear-cache-btn\"\n              style=\"background-color: #dc3545; border-color: #dc3545; color: white\"\n              aria-label=\"Clear cache\"\n            >\n              Cache leeren\n            </button>\n            <span id=\"cache-status-message\" class=\"help-text\"></span>\n          </div>\n          <div class=\"form-group\">\n            <span id=\"cache-stats\" class=\"help-text\"></span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Custom Tags Tab -->\n      <div id=\"custom-tags\" class=\"tab-content\">\n        <p class=\"help-text\">\n          Define custom categories for email analysis. The key will be used in the prompt to the\n          LLM.\n        </p>\n        <div id=\"tag-list-container\"></div>\n        <button id=\"add-new-tag-btn\">Add New Tag</button>\n      </div>\n    </div>\n\n    <!-- Modal for Add/Edit Tag -->\n    <div id=\"tag-modal\" class=\"modal\" style=\"display: none\">\n      <div class=\"modal-content\">\n        <span class=\"close-button\">&times;</span>\n        <h2 id=\"modal-title\">Add New Tag</h2>\n        <form id=\"tag-form\">\n          <input type=\"hidden\" id=\"tag-index\" value=\"\" />\n          <div class=\"form-group\">\n            <label for=\"tag-name\">Tag Name:</label>\n            <input type=\"text\" id=\"tag-name\" required />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"tag-key\">Tag Key:</label>\n            <input type=\"text\" id=\"tag-key\" required pattern=\"[a-z0-9_]+\" />\n            <p class=\"help-text\">Unique identifier (lowercase, numbers, underscores only).</p>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"tag-color\">Tag Color:</label>\n            <input type=\"color\" id=\"tag-color\" value=\"#3498DB\" />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"tag-prompt\">LLM Prompt Instruction:</label>\n            <textarea id=\"tag-prompt\" rows=\"3\" required></textarea>\n          </div>\n          <div class=\"form-group\">\n            <button type=\"submit\">Save Tag</button>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <script src=\"options-bundle.js\"></script>\n  </body>\n</html>\n",
        "timestamp": "2025-12-28T18:45:01.379116"
      },
      "worktree_state": {
        "content": "<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Email Assistant</title>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"options.css\" />\n  </head>\n  <body>\n    <div class=\"container\">\n      <h1>Mail Assistant Settings</h1>\n\n      <div class=\"tab-bar\">\n        <button class=\"tab-button active\" data-tab=\"general-settings\">General</button>\n        <button class=\"tab-button\" data-tab=\"custom-tags\">Custom Tags</button>\n      </div>\n\n      <!-- General Settings Tab -->\n      <div id=\"general-settings\" class=\"tab-content active\">\n        <form id=\"general-options-form\">\n          <div class=\"form-group\">\n            <label for=\"provider\">LLM Provider:</label>\n            <select id=\"provider\" name=\"provider\">\n              <option value=\"ollama\">Ollama</option>\n              <option value=\"mistral\">Mistral</option>\n              <option value=\"gemini\">Google Gemini</option>\n              <option value=\"deepseek\">DeepSeek</option>\n              <option value=\"openai\">OpenAI</option>\n              <option value=\"claude\">Anthropic Claude</option>\n              <option value=\"zai-paas\">Zai PaaS</option>\n              <option value=\"zai-coding\">Zai Coding</option>\n            </select>\n          </div>\n          <div id=\"ollama-settings\" class=\"provider-settings\">\n            <div class=\"form-group\">\n              <label for=\"ollama-api-url\">Ollama API URL:</label>\n              <input type=\"url\" id=\"ollama-api-url\" name=\"ollama-api-url\" />\n            </div>\n            <div class=\"form-group\">\n              <label for=\"ollama-model\">Ollama Model Name:</label>\n              <input type=\"text\" id=\"ollama-model\" name=\"ollama-model\" />\n              <p class=\"help-text\">\n                To add a new model, run <code>ollama pull &lt;model_name&gt;</code>.\n              </p>\n            </div>\n            <hr />\n            <div class=\"help-section\">\n              <h2>Ollama Setup</h2>\n              <p>\n                Ollama is a powerful tool that allows you to run open-source large language models\n                locally. You must first download and install the\n                <a href=\"https://ollama.com/\" target=\"_blank\">Ollama software</a> and host your own\n                instance.\n              </p>\n              <p>\n                <b>Privacy Benefit:</b> By using Ollama, all email analysis is performed on your own\n                computer. No data from your emails is ever sent to a third-party cloud service,\n                ensuring maximum privacy.\n              </p>\n              <p>\n                For the extension to connect, you must also configure Ollama to accept requests from\n                Thunderbird. Start your server with the <code>OLLAMA_ORIGINS</code> environment\n                variable set appropriately:\n              </p>\n              <pre><code>OLLAMA_ORIGINS='*' ollama serve</code></pre>\n            </div>\n          </div>\n\n          <!-- Mistral Settings -->\n          <div id=\"mistral-settings\" class=\"provider-settings\" style=\"display: none\">\n            <div class=\"form-group\">\n              <label for=\"mistral-api-key\">Mistral API Key:</label>\n              <input type=\"password\" id=\"mistral-api-key\" name=\"mistral-api-key\" />\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using Mistral, the content of your emails will be sent to\n                and processed by a third-party service (<a\n                  href=\"https://mistral.ai/\"\n                  target=\"_blank\"\n                  >Mistral AI</a\n                >). This includes potentially sensitive data\n              </p>\n              <p>\n                <b>GDPR Compliance:</b> Mistral is a company based in the EU, which may make it a\n                suitable choice for users concerned with GDPR compliance.\n              </p>\n            </div>\n          </div>\n\n          <!-- OpenAI Settings -->\n          <div id=\"openai-settings\" class=\"provider-settings\" style=\"display: none\">\n            <div class=\"form-group\">\n              <label for=\"openai-api-key\">OpenAI API Key:</label>\n              <input type=\"password\" id=\"openai-api-key\" name=\"openai-api-key\" />\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using OpenAI, the content of your emails will be sent to\n                and processed by a third-party service (<a href=\"https://openai.com\" target=\"_blank\"\n                  >OpenAI</a\n                >). This includes potentially sensitive data.\n              </p>\n            </div>\n          </div>\n\n          <!-- Gemini Settings -->\n          <div id=\"gemini-settings\" class=\"provider-settings\" style=\"display: none\">\n            <div class=\"form-group\">\n              <label for=\"gemini-api-key\">Google Gemini API Key:</label>\n              <input type=\"password\" id=\"gemini-api-key\" name=\"gemini-api-key\" />\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using Google Gemini, the content of your emails will be\n                sent to and processed by a third-party service (<a\n                  href=\"https://deepmind.google/technologies/gemini/\"\n                  target=\"_blank\"\n                  >Google</a\n                >). This includes potentially sensitive data.\n              </p>\n            </div>\n          </div>\n\n          <!-- Claude Settings -->\n          <div id=\"claude-settings\" class=\"provider-settings\" style=\"display: none\">\n            <div class=\"form-group\">\n              <label for=\"claude-api-key\">Anthropic Claude API Key:</label>\n              <input type=\"password\" id=\"claude-api-key\" name=\"claude-api-key\" />\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using Anthropic Claude, the content of your emails will be\n                sent to and processed by a third-party service (<a\n                  href=\"https://www.anthropic.com/\"\n                  target=\"_blank\"\n                  >Anthropic</a\n                >). This includes potentially sensitive data.\n              </p>\n            </div>\n          </div>\n\n          <!-- DeepSeek Settings -->\n          <div id=\"deepseek-settings\" class=\"provider-settings\" style=\"display: none\">\n            <div class=\"form-group\">\n              <label for=\"deepseek-api-key\">DeepSeek API Key:</label>\n              <input type=\"password\" id=\"deepseek-api-key\" name=\"deepseek-api-key\" />\n            </div>\n            <div class=\"help-section\">\n              <p>\n                <b>Privacy Notice:</b> By using DeepSeek, the content of your emails will be sent to\n                and processed by a third-party service (<a\n                  href=\"https://www.deepseek.com/\"\n                  target=\"_blank\"\n                  >DeepSeek</a\n                >). This includes potentially sensitive data.\n              </p>\n            </div>\n          </div>\n\n        <!-- Zai PaaS Settings -->\n        <div id=\"zai-paas-settings\" class=\"provider-settings\" style=\"display: none;\">\n          <h3>Zai PaaS Settings</h3>\n          <div class=\"form-group\">\n            <label for=\"zai-paas-api-key\">API Key:</label>\n            <input type=\"password\" id=\"zai-paas-api-key\" name=\"zai-paas-api-key\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"zai-paas-model\">Model:</label>\n            <select id=\"zai-paas-model\" name=\"zai-paas-model\"></select>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"zai-paas-base-url\">Base URL (optional):</label>\n            <input type=\"text\" id=\"zai-paas-base-url\" name=\"zai-paas-base-url\">\n          </div>\n          <div class=\"help-section\">\n            <p><b>Privacy Notice:</b> By using Zai PaaS, the content of your emails will be sent to and processed by a third-party service (<a href=\"https://z.ai/\" target=\"_blank\">Zai</a>). This includes potentially sensitive data.</p>\n          </div>\n        </div>\n\n        <!-- Zai Coding Settings -->\n        <div id=\"zai-coding-settings\" class=\"provider-settings\" style=\"display: none;\">\n          <h3>Zai Coding Settings</h3>\n          <div class=\"form-group\">\n            <label for=\"zai-coding-api-key\">API Key:</label>\n            <input type=\"password\" id=\"zai-coding-api-key\" name=\"zai-coding-api-key\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"zai-coding-model\">Model:</label>\n            <select id=\"zai-coding-model\" name=\"zai-coding-model\"></select>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"zai-coding-base-url\">Base URL (optional):</label>\n            <input type=\"text\" id=\"zai-coding-base-url\" name=\"zai-coding-base-url\">\n          </div>\n          <div class=\"help-section\">\n            <p><b>Privacy Notice:</b> By using Zai Coding, the content of your emails will be sent to and processed by a third-party service (<a href=\"https://z.ai/\" target=\"_blank\">Zai</a>). This includes potentially sensitive data.</p>\n          </div>\n        </div>\n\n          <div class=\"form-group\">\n            <button type=\"submit\">Save General Settings</button>\n            <span id=\"general-status-message\"></span>\n          </div>\n        </form>\n\n        <hr />\n\n        <div class=\"batch-analysis-container\">\n          <h2>Batch Email Analysis</h2>\n          <div class=\"form-group\">\n            <button type=\"button\" id=\"analyze-all-btn\" aria-label=\"Analyze all emails\">\n              Analysiere alle E-Mails\n            </button>\n            <button\n              type=\"button\"\n              id=\"cancel-analysis-btn\"\n              style=\"display: none\"\n              aria-label=\"Cancel analysis\"\n            >\n              Abbrechen\n            </button>\n            <button\n              type=\"button\"\n              id=\"kill-queue-btn\"\n              style=\"background-color: #dc3545; border-color: #dc3545; color: white\"\n              aria-label=\"Clear queue\"\n            >\n              Queue leeren\n            </button>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"analyze-progress\">Fortschritt:</label>\n            <progress id=\"analyze-progress\" value=\"0\" max=\"100\" style=\"display: none\"></progress>\n            <span id=\"analyze-progress-text\"></span>\n          </div>\n          <div class=\"form-group\">\n            <span id=\"analyze-status-message\" class=\"help-text\" aria-live=\"polite\"></span>\n          </div>\n        </div>\n\n        <hr />\n\n        <div class=\"cache-management-container\">\n          <h2>Cache Management</h2>\n          <p class=\"help-text\">\n            LLM-Antworten werden f\u00fcr 24 Stunden zwischengespeichert, um Token-Verbrauch zu\n            reduzieren.\n          </p>\n          <div class=\"form-group\">\n            <button\n              type=\"button\"\n              id=\"clear-cache-btn\"\n              style=\"background-color: #dc3545; border-color: #dc3545; color: white\"\n              aria-label=\"Clear cache\"\n            >\n              Cache leeren\n            </button>\n            <span id=\"cache-status-message\" class=\"help-text\"></span>\n          </div>\n          <div class=\"form-group\">\n            <span id=\"cache-stats\" class=\"help-text\"></span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Custom Tags Tab -->\n      <div id=\"custom-tags\" class=\"tab-content\">\n        <p class=\"help-text\">\n          Define custom categories for email analysis. The key will be used in the prompt to the\n          LLM.\n        </p>\n        <div id=\"tag-list-container\"></div>\n        <button id=\"add-new-tag-btn\">Add New Tag</button>\n      </div>\n    </div>\n\n    <!-- Modal for Add/Edit Tag -->\n    <div id=\"tag-modal\" class=\"modal\" style=\"display: none\">\n      <div class=\"modal-content\">\n        <span class=\"close-button\">&times;</span>\n        <h2 id=\"modal-title\">Add New Tag</h2>\n        <form id=\"tag-form\">\n          <input type=\"hidden\" id=\"tag-index\" value=\"\" />\n          <div class=\"form-group\">\n            <label for=\"tag-name\">Tag Name:</label>\n            <input type=\"text\" id=\"tag-name\" required />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"tag-key\">Tag Key:</label>\n            <input type=\"text\" id=\"tag-key\" required pattern=\"[a-z0-9_]+\" />\n            <p class=\"help-text\">Unique identifier (lowercase, numbers, underscores only).</p>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"tag-color\">Tag Color:</label>\n            <input type=\"color\" id=\"tag-color\" value=\"#3498DB\" />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"tag-prompt\">LLM Prompt Instruction:</label>\n            <textarea id=\"tag-prompt\" rows=\"3\" required></textarea>\n          </div>\n          <div class=\"form-group\">\n            <button type=\"submit\">Save Tag</button>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <script src=\"options-bundle.js\"></script>\n  </body>\n</html>\n",
        "last_modified": "2025-12-28T18:45:01.512211"
      },
      "task_intent": {
        "title": "001-fix-provider-setup-with-dynamic-settings",
        "description": "Fix broken provider settings UI by correcting HTML element ID mismatches between options.html and SettingsForm.ts, and removing orphan HTML elements that are outside provider settings divs. This ensures each provider's settings are correctly displayed and saved when the user selects that provider.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2025-12-28T18:38:44.216064",
  "last_updated": "2025-12-28T18:45:01.481908"
}